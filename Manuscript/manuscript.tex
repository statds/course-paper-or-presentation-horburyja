\documentclass[12pt, letterpaper, titlepage]{article}
\usepackage[utf8]{inputenc}

%% preamble
\usepackage[margin = 1in]{geometry}
\usepackage{booktabs}
\usepackage{natbib}
\usepackage[colorlinks=true, citecolor=blue]{hyperref}
\usepackage{graphicx}
\usepackage{subcaption}

%% metadata
\title{An Analysis of the Use of Average Centipawn Loss to Detect Cheating in Chess}

\author{James Horbury\\
    University of Connecticut
}
\date{\today}

\begin{document}
\maketitle

\begin{abstract}
\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}
\label{sec:abs}

Evolutions in chess computing have allowed for extensive libraries of past games to be analyzed again utlizing centipawn math. A recent scandal involving the alleged cheating of Chess Grandmaster Hans Niemann in the sphere of professional chess has launched a conversation about how cheaters can be detected statistically to the forefront of Academic Data Science. This paper will explore how one might detect cheating using average centipawn loss and whether these methods are reliable enough to become a standard in the chess proctors handbook.

\bigskip
\noindent\sc{Kewords}:
Centipawn math; 
Niemann;
Carlsen;
Chess;
\end{abstract}

\section*{Introduction}
\addcontentsline{toc}{section}{Introduction}
\label{sec:intro}

Over the past few months, the global chess community has been shaken by a very high-profile story regarding Hans Niemann, Magnus Carlsen, and “alleged cheating” in chess. The scandal started when Carlsen, the then reining five-time World Chess Champion, withdrew from the Sinquefield Cup after a stunning upset by then nineteen-year-old Niemann in the tournament’s third round. Carlsen didn’t immediately state the reason as to why he withdrew at first, though many correctly assumed he was holding his tongue in making any sort of public accusation of cheating to avoid any potential retaliatory lawsuit, but it was too late. The public was already running wild with the story, and every armature chess player and data scientist was looking for any indication of foul play given the high-stakes nature of the situation and the people involved.

The first game was played “over the board” (OTB) in contrast to “virtual chess” which is hosted online. Cheating in online chess is very easy. One simply needs to run a chess engine (like Stockfish) and execute the moves from their game into the engine as they played, following up with whichever move it suggested they play next \citep{kenregan2010}. Cheating OTB is not as simple. Players are commonly required to pass through a metal detector and are not permitted to bring phones or any other electronic devices with them.

The specific allegations related to how Niemann cheated OTB are unknown. Also, it would be very hard to prove cheating by simply looking at moves that are made in a single game. But what if you had access to hundreds or even thousand of games from a certain individual over a long stretch of their career? Although cheating in online chess should be, in principle, at least as hard to detect as with cheating OTB, with the added disadvantage that you cannot enforce the disallowance of electronic devices, in reality it is quite different. Chess.com, which is used by millions of players has released an expose on their cheat detection methods, specifically with regard to Hans Niemann, who they allege has cheating in many games \citep{erikallebest2022}. The methods used include (1) comparing moves made to engine-recommended moves, (2) comparing player past performances to their historical strength, (3) comparing a player's performance to comparable peers, (4) looking at behavioral factors, and (5) reviewing time usage for finding "easy" vs. "difficult" moves.  

Item 2 requires an assessment of move quality, which is usually done in centipawns. The centipawn is a unit of measure used in chess to quantify advantage. A centipawn is equal to 1/100 of a pawn and, although these values play no formal role in the game, they are useful to players and chess computers alike in order to evaluate positions . Centipawn loss is a calculation and numerical score given by a chess engine as the difference between the move an individual actually plays and the "strongest" move available at the time as computed by the engine. Therefore, average centipawn loss would be a calculation of the average loss incurred by each move over any particular game.

Measures of average centipawn loss can be used to evaluate a player's strength and, theoretically, one can compare ACL to one's ELO rating, a measure of one's relative skill level in zero-sum games such as chess, to observe how well they played with respect to this ranking. The contribution of this paper is to provide an analysis of this method, as a means to detect cheating in chess, by observing suspicious historic activity (i.e., an individual playing well above their rating in terms of ACL) with the goal of scrutinizing whether it should be treated as a "smoking gun" in terms of evidence of cheating; as was the case with Hans Niemann.

The rest of the paper is organized as follows. Section 2 provides specifics about the data used for the ACL versus ELO rating analysis, such as how it was collected and what it does to help answer my research question. Section 3 will provide insight into my methods and computer programs used to perform the analysis. Section 4 concludes with a discussion.

\section*{Data}
\addcontentsline{toc}{section}{Data}
\label{sec:data}

The dataset was compiled by Rafael Vicente Leite, an independent chess researcher and data scientis, immediately following the events of the scandal with the intent of conducting his own investigation of the Niemann controversy. The data itself was sourced from ChessBase, a German chess software company that maintains and sells large-scale databases containing the moves of recorded professional chess games. In addition to just holding data from prior games, however, it also provides some engine analysis of these games using Stockfish. Liete converted this raw data, that is to say the archive of games, from their initial portable game notation (PGN) format to data that was more amenable to statistical analysis.

Specifically, the processed dataset is comprised of ranked games (both virtual and OTB) of the following professional chess players: Hans Niemann, Erigaisi Arjun, Gukesh D, Alireza Firouzja, Vincent Keymer, and Igors Rausis.
% I don't know the exact reasoning for why these players were selected aside from Niemann and Carlsen, the two players who sparked the cheating controversy, and Rausis, a known cheater and perhaps "control" of his analysis.

It is a comprehensive list of every professional game they have played from 2018 to 2022 and is provided in both .csv and .pkl format. Some of the relevant information it contains are what color was played, what their respective ELO scores were at the time, and calculated ACL scores were along with some other unimportant details for this analysis (e.g., ACL score of Niemann's opponent, tournament name and event round, etc.). The main information of concern with regard to the entirety of the data is Niemann's ELO score and calculated ACL score of each game of each particular point in time, as this is what will be used to plot. All other games that included information where Niemann was not playing were dropped from the original dataset provided by Lichess.

\section*{Methods}
\addcontentsline{toc}{section}{Methods}
\label{sec:sim}

% refactor dataset before adding back methods

\section*{Application}
\addcontentsline{toc}{section}{Application}
\label{sec:app}

% removed faulty figures

\section*{Discussion}
\addcontentsline{toc}{section}{Discussion}
\label{sec:disc}

% summarize contributions of research and future directions
The results of this research largely confirm the claims included in Chess.com's report on Niemann however, although the data does indicate suspicious activity, this is not a "cut and dry" case of cheating, so to speak. Observing a single method to detect cheating as we have through average centipawn loss is not enough to confirm for sure that Hans Niemann cheated, both virtually and OTB, more than he claimed but this was never truely the objective of this research. The real question posed here was whether historical records of average centipawn loss compared to his ELO ranking could be treated as a "smoking gun" or surefire way to prove cheating alone; which it does not. Note: Relevant figures not available, fix this later. 

\bibliographystyle{chicago}
\bibliography{citations}

\end{document}